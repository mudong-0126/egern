# Egernå…¨å±€é…ç½® by Ison
# ä½œè€…GitHubï¼šhttps://github.com/Coldvvater
# é…ç½®åº“GitHubï¼šhttps://github.com/Coldvvater/Egern
# é…ç½®ä½¿ç”¨æ–¹æ³•å‚é˜…ï¼šhttps://raw.githubusercontent.com/Coldvvater/Egern/master/Profile/README.md
# æ›´æ–°æ—¶é—´ï¼š2022.08.08
---
policy_groups:
  - select:
      name: Final
      policies:
        - Proxy
        - DIRECT
  - select:
      name: Proxy
      policies:
        - Auto
        - HK
        - TW
        - SG
        - JP
        - KR
        - US
        - UK
        - DIRECT
  - external:
      name: Auto
      type: auto_test
      url: "https://ison.com"
  - select:
      name: Streaming
      policies:
        - HK
        - TW
        - SG
        - JP
        - KR
        - US
        - UK
  - external:
      name: HK
      type: select
      url: "https://ison.com"
      filter: æ¸¯|ğŸ‡­ğŸ‡°|HK|Hong
  - external:
      name: TW
      type: select
      url: "https://ison.com"
      filter: å°|ğŸ‡¨ğŸ‡³|ğŸ‡¹ğŸ‡¼|TW|Taiwan
  - external:
      name: SG
      type: select
      url: "https://ison.com"
      filter: å¡|ğŸ‡¸ğŸ‡¬|SG|Singapore
  - external:
      name: JP
      type: select
      url: "https://ison.com"
      filter: æ—¥|ğŸ‡¯ğŸ‡µ|JP|Japan
  - external:
      name: KR
      type: select
      url: "https://ison.com"
      filter: éŸ©|éŸ“|ğŸ‡°ğŸ‡·|éŸ©å›½|KR|KOR|Korea
  - external:
      name: US
      type: select
      url: "https://ison.com"
      filter: ç¾|ğŸ‡ºğŸ‡¸|US|States|American
  - external:
      name: UK
      type: select
      url: "https://ison.com"
      filter: è‹±å›½|ğŸ‡¬ğŸ‡§|UK|London|United Kingdom
rules:
  - rule_set:
      match: "https://raw.githubusercontent.com/Coldvvater/Egern/master/Rule/DivineEngine/Unbreak.yaml"
      policy: DIRECT
  - rule_set:
      match: "https://raw.githubusercontent.com/Coldvvater/Egern/master/Rule/DivineEngine/Advertising.yaml"
      policy: REJECT
  - rule_set:
      match: "https://raw.githubusercontent.com/Coldvvater/Egern/master/Rule/DivineEngine/Privacy.yaml"
      policy: REJECT
  - rule_set:
      match: "https://raw.githubusercontent.com/Coldvvater/Egern/master/Rule/DivineEngine/Hijacking.yaml"
      policy: REJECT
  - rule_set:
      match: "https://raw.githubusercontent.com/Coldvvater/Egern/master/Rule/DivineEngine/Streaming.yaml"
      policy: Streaming
  - rule_set:
      match: "https://raw.githubusercontent.com/Coldvvater/Egern/master/Rule/DivineEngine/Global.yaml"
      policy: Proxy
  - rule_set:
      match: "https://raw.githubusercontent.com/Coldvvater/Egern/master/Rule/DivineEngine/Apple.yaml"
      policy: DIRECT
  - rule_set:
      match: "https://raw.githubusercontent.com/Coldvvater/Egern/master/Rule/DivineEngine/China.yaml"
      policy: DIRECT
  - ip_cidr:
      match: 192.168.0.0/16
      policy: DIRECT
  - ip_cidr:
      match: 10.0.0.0/8
      policy: DIRECT
  - ip_cidr:
      match: 127.0.0.0/8
      policy: DIRECT
  - ip_cidr:
      match: 172.16.0.0/12
      policy: DIRECT
  - ip_cidr:
      match: 192.128.0.0/16
      policy: DIRECT
  - geoip:
      match: CN
      policy: DIRECT
  - default:
      policy: Final
url_rewrites:
  - match: "(.*google)\\\\.com"
    location: $1.cn
    status_code: 307
mitm:
  enable: true
  ca_p12: egern.p12
  ca_passphrase: egern
  hostnames:
    - www.google.com
